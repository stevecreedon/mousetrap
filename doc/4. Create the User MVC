1. Create a user controller with rspec.

    bundle exec rails g controller users


2. make the user a resource in config/routes.rb
   
   resources :users, :only => [:index]


3. View this in rake routes

   bundle exec rake routes


4. Create the index action and view.


5. Write some tests for the user controller


6. Secure the user with Devise

    before_filter :authenticate_user!

7. Fix the breaking tests

7.1 add the devise test helpers to the spec_helper configuration

	config.include Devise::TestHelpers, :type => :controller
	
7.2

   	before(:each) do
   		sign_in Factory.create(:user)
 	end

8. List users in the users index view

  <table>
	<tr><th>Id.</th><th>Email</th><th>signed in</th><th>ip</th>
	<% @users.each do |user| %>
	<tr>
		<td><%= user.id %></td>
		<td><%= user.email %></td>
		<td><%= user.current_sign_in_at %></td>
		<td><%= user.current_sign_in_ip %></td>
		<td>
		<% if user.profile %>
			<%= link_to "edit profile", edit_user_profile_path(user) %>&nbsp;
			<%= link_to "show profile", user_profile_path(user) %>
		<% else %>
			<%= link_to "new profile", new_user_profile_path(user) %>
		<% end %>
		</td>
	</tr>
	<% end %>
  </table>

9. Now lets add a link from the home page to the users page:

<%= link_to "users", users_path %>

10. Link back to dashboard:

<%= link_to "dashboard", root_path %>       